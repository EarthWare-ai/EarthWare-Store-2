<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Earthwear | Clean, Modern Ceramics</title>

<style>
:root{
  --bg:#ffffff;
  --paper:#fbf7f0;      /* matte cream */
  --ink:#1c1b1a;
  --muted:#6b6b6b;
  --line:#eadfce;
  --green:#2f6b57;      /* earthy green */
  --terra:#b46a3c;      /* warm terracotta */
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Arial;color:var(--ink);background:var(--bg)}
a{text-decoration:none;color:inherit}
.container{width:min(1120px,92%);margin:0 auto}

/* Header */
.header{
  position:sticky;top:0;z-index:20;
  border-bottom:1px solid var(--line);
  background:rgba(255,255,255,.90);
  backdrop-filter:blur(10px);
}
.headerInner{padding:14px 0;display:flex;justify-content:space-between;align-items:center;gap:12px}
.brand{font-size:22px;font-weight:1000;color:var(--green);letter-spacing:.2px}
.badge{padding:6px 10px;border-radius:999px;border:1px solid var(--line);font-size:12px;color:var(--muted);background:#fff}

/* Buttons */
.btn{
  padding:11px 15px;border-radius:999px;border:1px solid var(--line);
  font-weight:900;cursor:pointer;background:#fff
}
.btn:hover{opacity:.92}
.btn--primary{background:var(--green);border-color:var(--green);color:#fff}
.btn--accent{background:var(--terra);border-color:var(--terra);color:#fff}
.btn--ghost{background:transparent}

/* Hero */
.hero{padding:40px 0;background:linear-gradient(135deg,#fff,var(--paper))}
h1{margin:0 0 10px;font-size:40px;line-height:1.05}
p{margin:0;color:var(--muted);line-height:1.6}
.kicker{color:var(--terra);font-weight:900;letter-spacing:.3px;text-transform:uppercase;font-size:12px}

/* Controls */
.controls{
  margin:18px 0 0;
  display:flex;flex-wrap:wrap;gap:10px;align-items:center
}
.input{
  padding:12px 12px;border:1px solid var(--line);border-radius:14px;
  width:min(340px,100%);background:#fff;font-weight:700
}
.select{
  padding:12px 12px;border:1px solid var(--line);border-radius:14px;
  background:#fff;font-weight:800
}

/* Products */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px;margin:28px 0}
.card{border:1px solid var(--line);border-radius:18px;overflow:hidden;background:#fff}
.card__img{
  height:180px;
  background:linear-gradient(135deg,#fff,var(--paper));
  display:flex;align-items:center;justify-content:center;
}
.tile{
  width:100%;height:100%;
  background-size:cover;background-position:center;
}
.card__body{padding:14px}
.title{font-weight:1000;margin:0 0 6px}
.metaRow{display:flex;justify-content:space-between;gap:10px;align-items:baseline}
.price{font-weight:1000}
.supplierPrice{font-size:12px;color:var(--muted);font-weight:900}
.pill{
  display:inline-flex;gap:8px;align-items:center;
  font-size:12px;font-weight:900;color:var(--muted);
  border:1px solid var(--line);background:#fff;border-radius:999px;padding:6px 10px
}
.small{font-size:13px;color:var(--muted);line-height:1.45}
.link{font-weight:900;color:var(--green);text-decoration:underline}

/* Footer */
.footer{border-top:1px solid var(--line);padding:20px 0;margin-top:12px}
.footerInner{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;font-size:13px;color:var(--muted)}

/* Drawer */
.drawer{
  position:fixed;top:0;right:0;width:min(430px,92%);height:100%;
  background:#fff;border-left:1px solid var(--line);
  transform:translateX(110%);transition:.16s;
  z-index:50;display:flex;flex-direction:column;
}
.drawer.open{transform:translateX(0)}
.drawer__head{padding:14px;border-bottom:1px solid var(--line);display:flex;justify-content:space-between;align-items:center}
.drawer__body{padding:14px;overflow:auto;flex:1}
.drawer__foot{padding:14px;border-top:1px solid var(--line);background:var(--paper)}

.item{display:flex;justify-content:space-between;gap:10px;border-bottom:1px solid var(--line);padding:10px 0}
.qty{width:64px;padding:8px;border-radius:10px;border:1px solid var(--line);font-weight:900}

hr.sep{border:none;border-top:1px solid var(--line);margin:10px 0}
.notice{
  background:#fff;border:1px solid var(--line);border-radius:14px;
  padding:12px;font-size:12px;color:var(--muted);line-height:1.45
}
</style>
</head>

<body>

<header class="header">
  <div class="container headerInner">
    <div class="brand">Earthwear</div>
    <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:flex-end">
      <span class="badge">Delivery R150 • Free over R1000</span>
      <button class="btn" id="openCartBtn">Cart (<span id="cartCount">0</span>)</button>
    </div>
  </div>
</header>

<section class="hero">
  <div class="container">
    <div class="kicker">Matte cream • earthy green • warm terracotta</div>
    <h1>Curated ceramics,<br/>made to feel like one store.</h1>
    <p>
      Earthwear sources select pieces from trusted South African retailers and applies a clean, consistent presentation.
      Your checkout calculates shipping and prepares an order email with supplier links.
    </p>

    <div class="controls">
      <input class="input" id="search" placeholder="Search (e.g. vase, planter, terracotta, white)"/>
      <select class="select" id="filterSupplier">
        <option value="all">All suppliers</option>
      </select>
      <select class="select" id="filterCategory">
        <option value="all">All categories</option>
      </select>
      <button class="btn btn--primary" id="openCartBtn2">Checkout</button>
    </div>

    <div style="margin-top:12px" class="notice">
      <strong>Note:</strong> Supplier prices can change. Earthwear prices are calculated as <strong>supplier × 1.85</strong> (85% markup),
      then rounded to the nearest rand.
    </div>
  </div>
</section>

<main class="container" id="shop">
  <div id="grid" class="grid"></div>
</main>

<footer class="footer">
  <div class="container footerInner">
    <div>© <span id="year"></span> Earthwear • South Africa only</div>
    <div>Local deliveries only • ZAR</div>
  </div>
</footer>

<!-- Cart Drawer -->
<aside class="drawer" id="drawer" aria-label="Cart">
  <div class="drawer__head">
    <strong>Your cart</strong>
    <button class="btn btn--ghost" id="closeCartBtn">Close</button>
  </div>
  <div class="drawer__body">
    <div id="cartItems"></div>
  </div>
  <div class="drawer__foot">
    <div class="small" style="font-weight:1000">Subtotal: <span id="subtotal">R0.00</span></div>
    <div class="small">Shipping: <span id="shipping">R0.00</span></div>
    <div style="font-size:18px;font-weight:1000;margin:6px 0">Total: <span id="total">R0.00</span></div>
    <button class="btn btn--accent" id="emailOrderBtn" style="width:100%;margin-top:10px">Place order (email)</button>
    <div class="small" style="margin-top:10px">
      Checkout creates an email with item list + supplier links (so you can purchase and forward shipping to the customer).
    </div>
  </div>
</aside>

<script>
/* =========================
   CONFIG — EDIT THIS
========================= */
const SHOP_EMAIL = "your-email@example.com";  // <-- CHANGE THIS TO YOUR EMAIL

/* Shipping rules */
const SHIPPING_FLAT = 150;
const FREE_SHIP_OVER = 1000;

/* Pricing */
const MARKUP_MULTIPLIER = 1.85;

/* =========================
   CATALOG — REAL PRODUCTS
   supplierPrice is the supplier's current listed price in ZAR
========================= */
const PRODUCTS = [
  // -------- Coricraft --------
  {
    id:"cori_hydra_vase",
    name:"Hydra Vase",
    category:"Vase",
    supplierName:"Coricraft",
    supplierPrice:799,
    supplierUrl:"https://coricraft.co.za/products/hydra-vase_2444",
    accent:"green",
  },
  {
    id:"cori_lexi_vase_med",
    name:"Lexi Vase (Medium)",
    category:"Vase",
    supplierName:"Coricraft",
    supplierPrice:349,
    supplierUrl:"https://coricraft.co.za/products/lexi-vase_1838",
    accent:"cream",
  },
  {
    id:"cori_eliza_green_vase_sm",
    name:"Eliza Vase (Small, Green)",
    category:"Vase",
    supplierName:"Coricraft",
    supplierPrice:179,
    supplierUrl:"https://coricraft.co.za/products/eliza-vase_2226",
    accent:"green",
  },
  {
    id:"cori_malia_ribbed_vase",
    name:"Malia Ribbed Vase",
    category:"Vase",
    supplierName:"Coricraft",
    supplierPrice:999,
    supplierUrl:"https://coricraft.co.za/products/malia-ribbed-vase_2523",
    accent:"cream",
  },
  {
    id:"cori_sundew_terracotta_handles",
    name:"Sundew Terracotta Vessel with Handles",
    category:"Terracotta",
    supplierName:"Coricraft",
    supplierPrice:349,
    supplierUrl:"https://coricraft.co.za/products/sundew-terracotta-vessel-with-handles_2233",
    accent:"terra",
  },
  {
    id:"cori_terreno_planter_sm",
    name:"Terreno Planter (Small)",
    category:"Planter",
    supplierName:"Coricraft",
    supplierPrice:559,
    supplierUrl:"https://coricraft.co.za/products/terreno-planter_1880",
    accent:"cream",
  },
  {
    id:"cori_laval_planter_sm",
    name:"Laval Small Planter (Terracotta)",
    category:"Planter",
    supplierName:"Coricraft",
    supplierPrice:1699,
    supplierUrl:"https://coricraft.co.za/products/laval-small-planter_2496",
    accent:"terra",
  },

  // -------- @home (Bash) --------
  {
    id:"home_bubble_artstone",
    name:"Bubble Ceramic Artstone Vase (38.5 × 20cm)",
    category:"Vase",
    supplierName:"@home (Bash)",
    supplierPrice:1699,
    supplierUrl:"https://bash.com/bubble-ceramic-artstone-vase-38-5-x-20cm-153300aaxw1/p",
    accent:"cream",
  },
  {
    id:"home_organic_waves_artstone",
    name:"Organic Waves Ceramic Artstone Vase",
    category:"Vase",
    supplierName:"@home (Bash)",
    supplierPrice:1799,
    supplierUrl:"https://bash.com/organic-waves-ceramic-artstone-vase-153300aaxd7/p",
    accent:"cream",
  },
  {
    id:"home_elegant_curve_artstone",
    name:"Elegant Curve Ceramic Artstone Vase",
    category:"Vase",
    supplierName:"@home (Bash)",
    supplierPrice:1399,
    supplierUrl:"https://bash.com/elegant-curve-ceramic-artstone-vase-153300aaxu8/p",
    accent:"cream",
  },
  {
    id:"home_daphne_ceramic",
    name:"Daphne Ceramic Decorative Vase",
    category:"Vase",
    supplierName:"@home (Bash)",
    supplierPrice:2299,
    supplierUrl:"https://bash.com/daphne-ceramic-decorative-vase-153300aaxs1/p",
    accent:"terra",
  },

  // -------- Makro (links are real; our browser is blocked by their bot-check) --------
  {
    id:"makro_africa_ceramics_vase_70",
    name:"Africa Ceramics Ceramic Vase (70cm, Orange/Gold)",
    category:"Vase",
    supplierName:"Makro",
    supplierPrice:1259,        // discounted price shown in listing snippet
    supplierUrl:"https://www.makro.co.za/africa-ceramics-ceramic-vase/p/itm71489122d772d?pid=VASHHHQQYGGQB2NU",
    accent:"terra",
  },
  {
    id:"makro_modern_casa_vase_42",
    name:"Modern Casa Ceramic Vase (42cm)",
    category:"Vase",
    supplierName:"Makro",
    supplierPrice:1199,        // discounted price shown in listing snippet
    supplierUrl:"https://www.makro.co.za/modern-casa-ceramic-vase/p/itma9d0cdc387d03?pid=VASH9C8FRHGQZZQZ",
    accent:"terra",
  },
  {
    id:"makro_jozi_trade_vase_21",
    name:"Jozi Trade Ceramic Flower Vase (21cm)",
    category:"Vase",
    supplierName:"Makro",
    supplierPrice:350,         // listing snippet
    supplierUrl:"https://www.makro.co.za/jozi-trade-ceramic-vase/p/itm31b1487f36415?pid=VASHGNW3GM2B3VQM",
    accent:"cream",
  },
  {
    id:"makro_dh_ceramic_vase_18",
    name:"DH Ceramic Vase (18cm, Grey)",
    category:"Vase",
    supplierName:"Makro",
    supplierPrice:799,         // listing snippet
    supplierUrl:"https://www.makro.co.za/dh-ceramic-vase/p/itm6df4052abe32a?pid=VASH56HRVWGHZ3DY",
    accent:"cream",
  }
];

/* =========================
   UI HELPERS
========================= */
const ZAR = new Intl.NumberFormat("en-ZA", { style:"currency", currency:"ZAR" });

function roundRand(n){
  // round to nearest 1 rand
  return Math.round(n);
}

function earthwearPrice(p){
  return roundRand(p.supplierPrice * MARKUP_MULTIPLIER);
}

function tileSvg(p){
  // Single-file "image" tiles (no hotlinking). Clean + consistent.
  // Accent influences the inner shape color.
  const bg = encodeURIComponent("#fbf7f0");
  const c1 = p.accent==="terra" ? encodeURIComponent("#b46a3c") : (p.accent==="green" ? encodeURIComponent("#2f6b57") : encodeURIComponent("#d9cdbf"));
  const c2 = encodeURIComponent("#ffffff");
  const label = encodeURIComponent("Earthwear");
  const svg =
`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="540">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="${c2}"/>
      <stop offset="1" stop-color="${bg}"/>
    </linearGradient>
  </defs>
  <rect width="100%" height="100%" fill="url(#g)"/>
  <circle cx="670" cy="140" r="120" fill="${c1}" opacity=".22"/>
  <path d="M190 420c120-10 150-150 270-170 120-20 160 120 280 90"
        fill="none" stroke="${c1}" stroke-width="16" opacity=".25" stroke-linecap="round"/>
  <rect x="34" y="34" rx="18" ry="18" width="250" height="70" fill="${c2}" opacity=".85"/>
  <text x="60" y="80" font-family="system-ui,Arial" font-size="34" font-weight="900" fill="${c1}">${label}</text>
</svg>`;
  return `url("data:image/svg+xml;utf8,${svg}")`;
}

/* =========================
   RENDER FILTERS + GRID
========================= */
const grid = document.getElementById("grid");
const searchEl = document.getElementById("search");
const filterSupplier = document.getElementById("filterSupplier");
const filterCategory = document.getElementById("filterCategory");

function unique(arr){ return [...new Set(arr)].sort(); }

function initFilters(){
  unique(PRODUCTS.map(p=>p.supplierName)).forEach(s=>{
    const o=document.createElement("option"); o.value=s; o.textContent=s;
    filterSupplier.appendChild(o);
  });
  unique(PRODUCTS.map(p=>p.category)).forEach(c=>{
    const o=document.createElement("option"); o.value=c; o.textContent=c;
    filterCategory.appendChild(o);
  });
}

function currentFilters(){
  return {
    q: (searchEl.value||"").trim().toLowerCase(),
    supplier: filterSupplier.value,
    category: filterCategory.value
  };
}

function passes(p, f){
  const hay = `${p.name} ${p.category} ${p.supplierName}`.toLowerCase();
  if(f.q && !hay.includes(f.q)) return false;
  if(f.supplier !== "all" && p.supplierName !== f.supplier) return false;
  if(f.category !== "all" && p.category !== f.category) return false;
  return true;
}

function render(){
  const f = currentFilters();
  const list = PRODUCTS.filter(p=>passes(p,f));

  grid.innerHTML = list.map(p=>{
    const ew = earthwearPrice(p);
    return `
      <div class="card">
        <div class="card__img">
          <div class="tile" style="background-image:${tileSvg(p)}"></div>
        </div>
        <div class="card__body">
          <div class="pill">${p.category} • ${p.supplierName}</div>
          <h3 class="title">${p.name}</h3>

          <div class="metaRow">
            <div>
              <div class="price">${ZAR.format(ew)}</div>
              <div class="supplierPrice">Supplier: ${ZAR.format(p.supplierPrice)} • <a class="link" href="${p.supplierUrl}" target="_blank" rel="noopener">View item</a></div>
            </div>
          </div>

          <div style="display:flex;gap:10px;align-items:center;margin-top:12px;flex-wrap:wrap">
            <button class="btn btn--primary" data-add="${p.id}">Add to cart</button>
            <a class="btn" href="${p.supplierUrl}" target="_blank" rel="noopener">Open supplier</a>
          </div>

          <div class="small" style="margin-top:10px">
            Earthwear price includes markup and is shown for a unified store feel.
          </div>
        </div>
      </div>
    `;
  }).join("");

  document.querySelectorAll("[data-add]").forEach(btn=>{
    btn.addEventListener("click", ()=> addToCart(btn.getAttribute("data-add")));
  });
}

/* =========================
   CART
========================= */
const CART_KEY = "earthwear_cart_v2";

const getCart = () => JSON.parse(localStorage.getItem(CART_KEY) || "[]");
const setCart = (c) => localStorage.setItem(CART_KEY, JSON.stringify(c));

function addToCart(id){
  const cart = getCart();
  const found = cart.find(i=>i.id===id);
  if(found){ found.qty += 1; }
  else{
    const p = PRODUCTS.find(x=>x.id===id);
    cart.push({ ...p, qty:1 });
  }
  setCart(cart);
  updateCartUI();
  openCart();
}

function cartSubtotal(){
  // subtotal based on Earthwear prices
  return getCart().reduce((sum,i)=> sum + earthwearPrice(i) * i.qty, 0);
}

function shippingFor(subtotal){
  if(subtotal <= 0) return 0;
  return subtotal >= FREE_SHIP_OVER ? 0 : SHIPPING_FLAT;
}

function updateCartUI(){
  const cart = getCart();
  document.getElementById("cartCount").textContent = cart.reduce((s,i)=>s+i.qty,0);

  const box = document.getElementById("cartItems");
  if(cart.length===0){
    box.innerHTML = `<p class="small">Your cart is empty.</p>`;
  } else {
    box.innerHTML = cart.map(i=>{
      const ew = earthwearPrice(i);
      return `
        <div class="item">
          <div style="min-width:0">
            <strong>${i.name}</strong><br/>
            <span class="small">${ZAR.format(ew)} each</span><br/>
            <span class="small">Supplier: ${i.supplierName} • ${ZAR.format(i.supplierPrice)}</span><br/>
            <a class="small link" href="${i.supplierUrl}" target="_blank" rel="noopener">supplier link</a>
          </div>
          <input class="qty" type="number" min="1" value="${i.qty}" data-id="${i.id}">
        </div>
      `;
    }).join("");

    // qty change listeners
    document.querySelectorAll("[data-id]").forEach(inp=>{
      inp.addEventListener("change", (e)=>{
        const id = e.target.getAttribute("data-id");
        const qty = Math.max(1, Number(e.target.value));
        const updated = getCart().map(i=> i.id===id ? { ...i, qty } : i);
        setCart(updated);
        updateCartUI();
      });
    });
  }

  const subtotal = cartSubtotal();
  const ship = shippingFor(subtotal);
  const total = subtotal + ship;

  document.getElementById("subtotal").textContent = ZAR.format(subtotal);
  document.getElementById("shipping").textContent = ship===0 ? "FREE" : ZAR.format(ship);
  document.getElementById("total").textContent = ZAR.format(total);
}

/* =========================
   CART DRAWER UI
========================= */
const drawer = document.getElementById("drawer");
const openCart = ()=> drawer.classList.add("open");
const closeCart = ()=> drawer.classList.remove("open");

document.getElementById("openCartBtn").onclick=openCart;
document.getElementById("openCartBtn2").onclick=openCart;
document.getElementById("closeCartBtn").onclick=closeCart;

/* =========================
   EMAIL CHECKOUT
========================= */
document.getElementById("emailOrderBtn").onclick = ()=>{
  const cart = getCart();
  if(cart.length===0){ alert("Your cart is empty."); return; }

  const subtotal = cartSubtotal();
  const ship = shippingFor(subtotal);
  const total = subtotal + ship;

  const lines = cart.map(i=>{
    const ew = earthwearPrice(i);
    return `• ${i.name} x${i.qty}
  Earthwear: ${ZAR.format(ew)} each
  Supplier: ${i.supplierName} — ${ZAR.format(i.supplierPrice)} each
  Link: ${i.supplierUrl}`;
  }).join("\n\n");

  const body = encodeURIComponent(
`New Earthwear Order

ITEMS
${lines}

SUMMARY
Subtotal: ${ZAR.format(subtotal)}
Shipping: ${ship===0 ? "FREE" : ZAR.format(ship)}
Total: ${ZAR.format(total)}

CUSTOMER DETAILS
Name:
Phone:
Email:
Address:
City:
Postal Code:

NOTES
- Earthwear prices include 85% markup (supplier × 1.85).
- Use supplier links to purchase and ship to customer.`
  );

  window.location.href = `mailto:${SHOP_EMAIL}?subject=Earthwear Order&body=${body}`;
};

/* =========================
   INIT
========================= */
initFilters();
render();
updateCartUI();
document.getElementById("year").textContent = new Date().getFullYear();

["input","change"].forEach(evt=>{
  searchEl.addEventListener(evt, render);
  filterSupplier.addEventListener(evt, render);
  filterCategory.addEventListener(evt, render);
});
</script>

</body>
</html>